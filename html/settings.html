<div style="padding:20px;max-width:800px;margin:0 auto">
  <h2 style="margin:0 0 24px">‚öôÔ∏è AI Settings</h2>
  
  <div class="sunday-card" style="margin-bottom:16px">
    <div class="sunday-card__header">
      <h3 style="margin:0">ü§ñ Default Model</h3>
    </div>
    <div class="sunday-card__body">
      <select id="defaultModel" class="sunday-input" style="width:100%">
        <option value="llama3.2">Llama 3.2</option>
        <option value="mistral">Mistral</option>
        <option value="codellama">Code Llama</option>
        <option value="gemma2">Gemma 2</option>
      </select>
      <p style="color:var(--muted);font-size:12px;margin-top:8px">
        Select the default model for chat interactions
      </p>
    </div>
  </div>
  
  <div class="sunday-card" style="margin-bottom:16px">
    <div class="sunday-card__header">
      <h3 style="margin:0">üå°Ô∏è Temperature</h3>
    </div>
    <div class="sunday-card__body">
      <input type="range" id="temperature" min="0" max="2" step="0.1" value="0.7" style="width:100%">
      <div style="display:flex;justify-content:space-between;font-size:12px;color:var(--muted)">
        <span>Precise (0)</span>
        <span id="tempValue">0.7</span>
        <span>Creative (2)</span>
      </div>
    </div>
  </div>
  
  <div class="sunday-card" style="margin-bottom:16px">
    <div class="sunday-card__header">
      <h3 style="margin:0">üîó Ollama Connection</h3>
    </div>
    <div class="sunday-card__body">
      <div style="display:flex;gap:12px;align-items:center">
        <input type="text" id="ollamaUrl" class="sunday-input" value="http://localhost:11434" style="flex:1">
        <button class="sunday-btn secondary" onclick="testConnection()">Test</button>
      </div>
      <div id="connectionStatus" style="margin-top:8px;font-size:12px"></div>
    </div>
  </div>
  
  <div style="display:flex;gap:12px;justify-content:flex-end">
    <button class="sunday-btn secondary" onclick="resetSettings()">Reset</button>
    <button class="sunday-btn primary" onclick="saveSettings()">Save Settings</button>
  </div>
</div>

<script>
  // Load saved settings
  document.getElementById('defaultModel').value = localStorage.getItem('ai_model') || 'llama3.2';
  document.getElementById('temperature').value = localStorage.getItem('ai_temperature') || '0.7';
  document.getElementById('tempValue').textContent = document.getElementById('temperature').value;
  document.getElementById('ollamaUrl').value = localStorage.getItem('ollama_url') || 'http://localhost:11434';
  
  document.getElementById('temperature').addEventListener('input', (e) => {
    document.getElementById('tempValue').textContent = e.target.value;
  });
  
  function saveSettings() {
    localStorage.setItem('ai_model', document.getElementById('defaultModel').value);
    localStorage.setItem('ai_temperature', document.getElementById('temperature').value);
    localStorage.setItem('ollama_url', document.getElementById('ollamaUrl').value);
    alert('Settings saved!');
  }
  
  function resetSettings() {
    localStorage.removeItem('ai_model');
    localStorage.removeItem('ai_temperature');
    localStorage.removeItem('ollama_url');
    location.reload();
  }
  
  async function testConnection() {
    const status = document.getElementById('connectionStatus');
    status.innerHTML = '<span style="color:var(--muted)">Testing...</span>';
    
    try {
      const response = await fetch('/api/ollama/status');
      const data = await response.json();
      
      if (data.running) {
        status.innerHTML = '<span style="color:var(--success)">‚úÖ Connected to Ollama</span>';
      } else {
        status.innerHTML = '<span style="color:var(--warning)">‚ö†Ô∏è Ollama not running</span>';
      }
    } catch {
      status.innerHTML = '<span style="color:var(--error)">‚ùå Connection failed</span>';
    }
  }
</script>

